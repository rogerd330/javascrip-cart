<html>
    <head>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

        <style>
            #catalog-list li {
               list-style: none; 
            }
        </style>
    </head>
    <body>

        <h2>All Products</h2>
        <ul id="catalog-list" class="row">
        </ul>

        <hr>

        <h2>Shopping Cart</h2>
        <ul id="cart-list">
            <li>No items in your cart :( Start shopping!</li>
        </ul>


        <hr>

        <h2>Checkout</h2>
        <p>[pricing calculations]</p>

        <script>

            var catalog = [
                {
                    "id": 1,
                    "image": "gray-bottle.jpeg",
                    "title": "Gray Bottle",
                    "price": 5.00
                },
                {
                    "id": 2,
                    "image": "red-bottle.jpeg",
                    "title": "Red Bottle",
                    "price": 5.00
                },
                {
                    "id": 3,
                    "image": "white-bottle.jpeg",
                    "title": "White Bottle",
                    "price": 5.00
                },
            ];
            var cart = [];

            var catalogList = document.getElementById("catalog-list");

            catalog.forEach(function(product) {
                var li = document.createElement("li");
                li.className = "col-sm-4";

                var template = makeCard(product.title, product.image, product.price, product.id);

                li.innerHTML = template;

                catalogList.appendChild(li);
            });

            function makeCard(title, image, price, id) {
                var template = `<div class="card mb-4 shadow-sm">
                    <img src="images/${image}" class="card-img-top">
                    <div class="card-body">
                    <p class="card-text">
                        ${title}
                        <br/>
                        <h4>${price}</h4>
                    </p>
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="btn-group">
                        <button type="button" class="btn btn-sm btn-primary" onClick="addToCart(${id});">Add to Cart</button>
                        </div>
                    </div>
                    </div>
                </div>`;

                return template;
            }

            function addToCart(productId) {
                console.log("Adding to cart...");
                var product = catalog[--productId];
                cart.push(product);

                refreshCart();
            }

            function refreshCart() {
                var cartList = document.getElementById("cart-list");
                cartList.innerHTML = null;

                cart.forEach(function(product) {
                    var li = document.createElement("li");
                    li.innerHTML = `${product.title} - $${product.price}`;

                    cartList.appendChild(li);
                });

            }
            
        </script>
    </body>
</html>